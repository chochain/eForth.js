<HTML>
  <title>eForth in Javascript</title>
  <body>
    <div width=100% height=100%>
      <input id="tib" value="" style="font-size:18px; width:100%"
             onkeydown="if (13===event.keyCode) eval()"/>
      <textarea id="txt" style="font-size:18px; width:100%; height:90%"></textarea>
    </div>
  <script src="jeforth_400.js"></script>
  <script>
    function eval() {
      let tib=document.getElementById("tib");
      to_text(tib.value+"\n");
      try      { vm.exec(tib.value); }
      catch(e) { console.log(e.toString()+"\n"); }
      finally  { tib.value=""; txt.scrollTop=txt.scrollHeight; }
    }
    function to_text(t) { txt.value+=t; }
  
    let vm = new ForthVM(to_text);
    vm.init();
  </script>
</body>
</HTML>
